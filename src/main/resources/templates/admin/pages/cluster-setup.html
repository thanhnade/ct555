<!doctype html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<body>
<div th:replace="admin/layout :: layout(~{::content})">
  <div th:fragment="content">
    <div class="page-title-row">
      <div>
        <div class="page-title">âš™ï¸ Thiáº¿t láº­p cá»¥m Kubernetes báº±ng Ansible</div>
        <div class="page-subtitle">
          Thá»±c hiá»‡n cÃ i Ä‘áº·t Ansible, Kubernetes, CNI, Ingress, MetalLB trÃªn cÃ¡c server Ä‘Ã£ gÃ¡n.
        </div>
      </div>
      <div style="display: flex; gap: 8px; align-items: center;">
        <select class="form-control" id="cluster-select" style="min-width: 200px;">
          <option value="">-- Chá»n cluster --</option>
        </select>
        <button class="btn" onclick="window.location.href='/admin/cluster'">â† Quay láº¡i danh sÃ¡ch</button>
      </div>
    </div>

    <!-- Step 1: Environment Check -->
    <div class="table-card">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #E0E0E0;">
        <div class="page-title" style="font-size: 16px; margin-bottom: 0;">BÆ°á»›c 1 â€“ Kiá»ƒm tra mÃ´i trÆ°á»ng</div>
        <button class="btn" id="btn-step-1-check">ğŸ” Run Check</button>
      </div>
      <div class="page-subtitle" style="font-size: 13px; color: #666666; margin-top: 8px;">
        Kiá»ƒm tra SSH, swapoff, kernel modules, containerd,... trÃªn táº¥t cáº£ server.
      </div>
    </div>

    <!-- Step 2: Install Ansible -->
    <div class="table-card" style="margin-top: 16px;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #E0E0E0;">
        <div class="page-title" style="font-size: 16px; margin-bottom: 0;">BÆ°á»›c 2 â€“ CÃ i Ansible trÃªn master chÃ­nh</div>
        <button class="btn btn-primary" id="btn-step-2-ansible">ğŸ“¦ Install Ansible</button>
      </div>
      <div class="page-subtitle" style="font-size: 13px; color: #666666; margin-top: 8px;">
        Sau khi cÃ i xong, tráº¡ng thÃ¡i cá»¥m chuyá»ƒn sang: <strong>Ansible Installed</strong>.
      </div>
    </div>

    <!-- Step 3: Install Kubernetes -->
    <div class="table-card" style="margin-top: 16px;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #E0E0E0;">
        <div class="page-title" style="font-size: 16px; margin-bottom: 0;">BÆ°á»›c 3 â€“ CÃ i Kubernetes (kubeadm)</div>
        <button class="btn btn-primary" id="btn-step-3-k8s">â˜¸ï¸ Install Kubernetes</button>
      </div>
      <div class="page-subtitle" style="font-size: 13px; color: #666666; margin-top: 8px;">
        Init master, join cÃ¡c master/worker cÃ²n láº¡i báº±ng kubeadm vÃ  Ansible.
      </div>
    </div>

    <!-- Step 4: Install Addons (CNI, Ingress, MetalLB) -->
    <div class="table-card" style="margin-top: 16px;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #E0E0E0; flex-wrap: wrap; gap: 8px;">
        <div class="page-title" style="font-size: 16px; margin-bottom: 0;">BÆ°á»›c 4 â€“ CÃ i CNI, Ingress, MetalLB</div>
        <div style="display: flex; gap: 8px; flex-wrap: wrap;">
          <button class="btn" id="btn-step-4-calico">ğŸŒ Install Calico</button>
          <button class="btn" id="btn-step-4-ingress">ğŸšª Install Ingress</button>
          <button class="btn" id="btn-step-4-metallb">âš–ï¸ Install MetalLB</button>
        </div>
      </div>
      <div class="page-subtitle" style="font-size: 13px; color: #666666; margin-top: 8px;">
        Triá»ƒn khai cÃ¡c addon cáº§n thiáº¿t cho cá»¥m.
      </div>
    </div>

    <!-- Step 5: Verify Cluster -->
    <div class="table-card" style="margin-top: 16px;">
      <div style="display: flex; align-items: center; justify-content: space-between; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 1px solid #E0E0E0;">
        <div class="page-title" style="font-size: 16px; margin-bottom: 0;">BÆ°á»›c 5 â€“ Verify Cluster</div>
        <button class="btn btn-primary" id="btn-step-5-verify">âœ… Verify</button>
      </div>
      <div class="page-subtitle" style="font-size: 13px; color: #666666; margin-top: 8px;">
        Sau khi verify thÃ nh cÃ´ng, chuyá»ƒn sang giao diá»‡n quáº£n lÃ½ kiá»ƒu Rancher (Kubernetes Overview).
      </div>
    </div>
  </div>
</div>
<script src="/js/modules/clusterSetup.js"></script>
</body>
</html>

